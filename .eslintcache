[{"C:\\Users\\lukei\\Documents\\video-stream-analyzer\\src\\index.js":"1","C:\\Users\\lukei\\Documents\\video-stream-analyzer\\src\\reportWebVitals.js":"2","C:\\Users\\lukei\\Documents\\video-stream-analyzer\\src\\App.js":"3","C:\\Users\\lukei\\Documents\\video-stream-analyzer\\src\\components\\FileInput.jsx":"4","C:\\Users\\lukei\\Documents\\video-stream-analyzer\\src\\components\\Overview.jsx":"5","C:\\Users\\lukei\\Documents\\video-stream-analyzer\\src\\components\\Table.jsx":"6","C:\\Users\\lukei\\Documents\\video-stream-analyzer\\src\\components\\StackedTable.jsx":"7","C:\\Users\\lukei\\Documents\\video-stream-analyzer\\src\\components\\FileDrop.jsx":"8","C:\\Users\\lukei\\Documents\\video-stream-analyzer\\src\\components\\DropWrapper.jsx":"9","C:\\Users\\lukei\\Documents\\video-stream-analyzer\\src\\context\\GlobalState.jsx":"10","C:\\Users\\lukei\\Documents\\video-stream-analyzer\\src\\context\\GlobalReducer.js":"11","C:\\Users\\lukei\\Documents\\video-stream-analyzer\\src\\components\\Results.jsx":"12","C:\\Users\\lukei\\Documents\\video-stream-analyzer\\src\\components\\Diff.jsx":"13"},{"size":517,"mtime":1611518068401,"results":"14","hashOfConfig":"15"},{"size":375,"mtime":1611518068402,"results":"16","hashOfConfig":"15"},{"size":491,"mtime":1611527990871,"results":"17","hashOfConfig":"15"},{"size":1881,"mtime":1611526100793,"results":"18","hashOfConfig":"19"},{"size":1483,"mtime":1611529145363,"results":"20","hashOfConfig":"15"},{"size":956,"mtime":1611586171127,"results":"21","hashOfConfig":"15"},{"size":540,"mtime":1611522619415,"results":"22","hashOfConfig":"19"},{"size":1947,"mtime":1611529101425,"results":"23","hashOfConfig":"15"},{"size":665,"mtime":1611585549809,"results":"24","hashOfConfig":"15"},{"size":3109,"mtime":1611586034842,"results":"25","hashOfConfig":"15"},{"size":603,"mtime":1611585295246,"results":"26","hashOfConfig":"15"},{"size":510,"mtime":1611584518757,"results":"27","hashOfConfig":"15"},{"size":143,"mtime":1611529227062,"results":"28","hashOfConfig":"19"},{"filePath":"29","messages":"30","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"31"},"16p7qkg",{"filePath":"32","messages":"33","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"31"},{"filePath":"34","messages":"35","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"36","usedDeprecatedRules":"31"},{"filePath":"37","messages":"38","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"39"},"1jvpr3k",{"filePath":"40","messages":"41","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"42","usedDeprecatedRules":"31"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"47","messages":"48","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"49","usedDeprecatedRules":"31"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"31"},{"filePath":"52","messages":"53","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"54","usedDeprecatedRules":"31"},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"31"},{"filePath":"57","messages":"58","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"31"},{"filePath":"59","messages":"60","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"61"},"C:\\Users\\lukei\\Documents\\video-stream-analyzer\\src\\index.js",[],["62","63"],"C:\\Users\\lukei\\Documents\\video-stream-analyzer\\src\\reportWebVitals.js",[],"C:\\Users\\lukei\\Documents\\video-stream-analyzer\\src\\App.js",["64"],"import './bootstrap.min.css';\r\nimport './App.css';\r\nimport DropWrapper from './components/DropWrapper';\r\nimport { GlobalContext, GlobalProvider } from './context/GlobalState';\r\nimport Results from './components/Results';\r\n\r\nfunction App() {\r\n  return (\r\n    <div className=\"App\" style={{ width: \"95%\", margin: \"auto\"}}>\r\n      <GlobalProvider>\r\n        <DropWrapper />\r\n        {/* <FileInput /> */}\r\n        <Results />\r\n      </GlobalProvider>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","C:\\Users\\lukei\\Documents\\video-stream-analyzer\\src\\components\\FileInput.jsx",[],["65","66"],"C:\\Users\\lukei\\Documents\\video-stream-analyzer\\src\\components\\Overview.jsx",["67"],"import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport Table from './Table';\r\n\r\nconst Overview = props => {\r\n    const { info } = props;\r\n\r\n    const { duration } = info;\r\n    // const metadata = {\r\n    //     name: info.name,\r\n    //     duration: duration,\r\n    //     bitrate: info.bit_rate,\r\n    //     url: info.url,\r\n    //     nb_streams: info.nb_streams,\r\n    //     flags: info.flags\r\n    // };\r\n\r\n    return (\r\n        <div className=\"card mt-1\">\r\n            <div className=\"card-body\">\r\n                <h4 className=\"card-title\">{info.url}</h4>\r\n                <h6 className=\"card-subtitle mb-2\">\r\n                    <span style={{ marginRight: \"1em\"}}>Duration: {info.duration}</span>\r\n                    <span>Bitrate: {info.bit_rate}</span>\r\n                </h6>\r\n                {/* <div className=\"row\">\r\n                    <div className=\"col-md-3\">\r\n                        <h4>Version</h4>\r\n                        <StackedTable data={info.versions}/>\r\n                    </div>\r\n\r\n                    <div className=\"col-md-3\">\r\n                        <h4>Metadata</h4>\r\n                        <StackedTable data={metadata}/>\r\n                    </div>\r\n                </div> */}\r\n                <div className=\"row\">\r\n                    <Table data={info.streams} />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nOverview.propTypes = {\r\n    info: PropTypes.object.isRequired\r\n}\r\n\r\nexport default Overview\r\n","C:\\Users\\lukei\\Documents\\video-stream-analyzer\\src\\components\\Table.jsx",[],"C:\\Users\\lukei\\Documents\\video-stream-analyzer\\src\\components\\StackedTable.jsx",[],"C:\\Users\\lukei\\Documents\\video-stream-analyzer\\src\\components\\FileDrop.jsx",["68"],"import React, {useEffect, useState, createRef} from 'react';\r\n\r\nconst FileDrop = ({ onDrop }) => {\r\n    const [drag, setDrag] = useState(false);\r\n    const [filename, setFilename] = useState('');\r\n    let dropRef = createRef();\r\n    let dragCounter = 0;\r\n  \r\n    const handleDrag = e => {\r\n      e.preventDefault();\r\n      e.stopPropagation();\r\n    };\r\n  \r\n    const handleDragIn = e => {\r\n      e.preventDefault();\r\n      e.stopPropagation();\r\n      dragCounter++;\r\n      if (e.dataTransfer.items && e.dataTransfer.items.length > 0) setDrag(true);\r\n    };\r\n  \r\n    const handleDragOut = e => {\r\n      e.preventDefault();\r\n      e.stopPropagation();\r\n      dragCounter--;\r\n      if (dragCounter === 0) setDrag(false);\r\n    };\r\n  \r\n    const handleDrop = e => {\r\n      e.preventDefault();\r\n      e.stopPropagation();\r\n      setDrag(false);\r\n      if (e.dataTransfer.files && e.dataTransfer.files.length > 0) {\r\n        onDrop(e.dataTransfer.files);\r\n        // setFilename(e.dataTransfer.files[0].name);\r\n        e.dataTransfer.clearData();\r\n        dragCounter = 0;\r\n      }\r\n    };\r\n  \r\n    useEffect(() => {\r\n      let div = dropRef.current;\r\n      div.addEventListener('dragenter', handleDragIn);\r\n      div.addEventListener('dragleave', handleDragOut);\r\n      div.addEventListener('dragover', handleDrag);\r\n      div.addEventListener('drop', handleDrop);\r\n      return () => {\r\n        div.removeEventListener('dragenter', handleDragIn);\r\n        div.removeEventListener('dragleave', handleDragOut);\r\n        div.removeEventListener('dragover', handleDrag);\r\n        div.removeEventListener('drop', handleDrop);\r\n      };\r\n    });\r\n  \r\n    return (\r\n      <div\r\n        ref={dropRef}\r\n        className={\r\n          drag ? 'filedrop drag' : filename ? 'filedrop ready' : 'filedrop'\r\n        }\r\n      >\r\n        {filename && !drag ? <div>{filename}</div> : <div>Drop a file here!</div>}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  export default FileDrop;","C:\\Users\\lukei\\Documents\\video-stream-analyzer\\src\\components\\DropWrapper.jsx",[],"C:\\Users\\lukei\\Documents\\video-stream-analyzer\\src\\context\\GlobalState.jsx",["69"],"import React, {createContext, useReducer} from 'react'\r\nimport GlobalReducer from './GlobalReducer';\r\n\r\n\r\nconst initialState = {\r\n    files: [],\r\n    diffs: [],\r\n    worker: new Worker(\"ffprobe-worker.js\")\r\n}\r\n\r\nexport const mapToType = [\"VIDEO\", \"AUDIO\"];\r\n\r\n\r\nexport const GlobalContext = createContext(initialState);\r\n\r\nexport const GlobalProvider = props => {\r\n    const [state, dispatch] = useReducer(GlobalReducer, initialState);\r\n    const { worker } = state;\r\n\r\n    function determineDiffs(newFiles) {\r\n        const files = [...state.files, ...newFiles];\r\n        const diffs = [];\r\n        console.log(\"GET DIFFS\", files);\r\n\r\n        if (files.length > 0) {\r\n            Object.keys(files[0]).forEach(key => {\r\n                switch(key) {\r\n                    case 'start_time':\r\n                    case 'duration':\r\n                    case 'codec_name':\r\n                    case 'format':\r\n                    case 'bit_rate':\r\n                    case 'channels':\r\n                    case 'sample_rate':\r\n                    case 'frame_size':\r\n                        let prev = null;\r\n                        for (const file of files) {\r\n                            if (prev == null && file[key]) {\r\n                                prev = file;\r\n                            } else if (prev[key] !== file[key]){\r\n                                diffs.push(key);\r\n                                break;\r\n                            }\r\n                        }\r\n                        break;\r\n                    default:\r\n                        break;\r\n                }\r\n            });\r\n            \r\n            console.log(diffs);\r\n            dispatch({\r\n                type: 'SET_DIFFS',\r\n                payload: diffs\r\n            });\r\n        }\r\n    }\r\n\r\n    function addFiles(newFiles) {\r\n        worker.onmessage = e => {\r\n            dispatch({\r\n                type: \"ADD_FILES\",\r\n                payload: e.data\r\n            });\r\n\r\n            // determineDiffs(e.data);\r\n        };\r\n    \r\n        let files = [];\r\n        for (let i = 0; i < newFiles.length; i++) {\r\n            files.push(newFiles.item(i));\r\n        }\r\n\r\n        files = files\r\n            .filter(file => state.files\r\n            .filter(f => f.url === file.name).length === 0);\r\n            // .map(f => f ({\r\n            //     ...f,\r\n            //     streams: f.streams.map(stream => ({ \r\n            //         ...stream, \r\n            //         type: mapToType.length > stream.codec_type ? mapToType(stream.codec_type) : \"UNKNOWN\" \r\n            //     }))\r\n            // }));\r\n\r\n    \r\n        worker.postMessage([\"get_file_info\", files]);\r\n    }\r\n\r\n    function deleteFile(filename) {\r\n        dispatch({\r\n            type: \"DELETE_FILE\",\r\n            payload: filename\r\n        })\r\n    }\r\n\r\n\r\n    return (\r\n        <GlobalContext.Provider\r\n            value={{\r\n                files: state.files,\r\n                diffs: state.diffs,\r\n                addFiles,\r\n                deleteFile\r\n            }}\r\n        >\r\n            {props.children}\r\n        </GlobalContext.Provider>\r\n    )\r\n}\r\n","C:\\Users\\lukei\\Documents\\video-stream-analyzer\\src\\context\\GlobalReducer.js",[],"C:\\Users\\lukei\\Documents\\video-stream-analyzer\\src\\components\\Results.jsx",[],"C:\\Users\\lukei\\Documents\\video-stream-analyzer\\src\\components\\Diff.jsx",[],["70","71"],{"ruleId":"72","replacedBy":"73"},{"ruleId":"74","replacedBy":"75"},{"ruleId":"76","severity":1,"message":"77","line":4,"column":10,"nodeType":"78","messageId":"79","endLine":4,"endColumn":23},{"ruleId":"72","replacedBy":"80"},{"ruleId":"74","replacedBy":"81"},{"ruleId":"76","severity":1,"message":"82","line":8,"column":13,"nodeType":"78","messageId":"79","endLine":8,"endColumn":21},{"ruleId":"76","severity":1,"message":"83","line":5,"column":22,"nodeType":"78","messageId":"79","endLine":5,"endColumn":33},{"ruleId":"76","severity":1,"message":"84","line":20,"column":14,"nodeType":"78","messageId":"79","endLine":20,"endColumn":28},{"ruleId":"72","replacedBy":"85"},{"ruleId":"74","replacedBy":"86"},"no-native-reassign",["87"],"no-negated-in-lhs",["88"],"no-unused-vars","'GlobalContext' is defined but never used.","Identifier","unusedVar",["87"],["88"],"'duration' is assigned a value but never used.","'setFilename' is assigned a value but never used.","'determineDiffs' is defined but never used.",["87"],["88"],"no-global-assign","no-unsafe-negation"]